{"version":3,"sources":["../../../src/graphql/actions/recetasActions.js"],"names":["addRecetaAction","recetaData","console","log","RecetaModel","create","updateRecetaAction","filter","update","findOneAndUpdate","getAllRecetasAction","find","populate","getRecetaAction","recetaID","findOne","_id","deleteRecetaAction","$set","isActive","isRecetaActive","receta"],"mappings":"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","sourcesContent":["import { RecetaModel } from '../../database/models';\r\n\r\nconst addRecetaAction = async (recetaData) => {\r\n  try {\r\n    console.log(\"Receta creada\");\r\n    return await RecetaModel.create(recetaData);\r\n  } catch (error) {\r\n    console.log(\"TCL: error\", error);\r\n  }\r\n};\r\n\r\nconst updateRecetaAction = async (filter, update) => {\r\n  try {\r\n    return await RecetaModel.findOneAndUpdate(filter, update, { new: true });\r\n  } catch (error) {\r\n    console.log(\"TCL: updateRecetaAction -> error\", error);\r\n  }\r\n};\r\n\r\nconst getAllRecetasAction = async () => {\r\n  try {\r\n    return await RecetaModel.find().populate('ingredients');\r\n  } catch (error) {\r\n    console.log(\"TCL: getAllRecetasAction -> error\", error);\r\n  }\r\n};\r\n\r\nconst getRecetaAction = async (recetaID) => {\r\n  try {\r\n    return await RecetaModel.findOne({ _id: recetaID });\r\n  } catch (error) {\r\n    console.log(\"TCL: getAllRecetasAction -> error\", error);\r\n  }\r\n};\r\n\r\nconst deleteRecetaAction = async (recetaID) => {\r\n  try {\r\n    const filter = { _id: recetaID };\r\n    const update = { $set: { isActive: false } };\r\n    return await updateRecetaAction(filter, update);\r\n  } catch (error) {\r\n    console.log(\"TCL: deleteRecetaAction -> error\", error);\r\n  }\r\n};\r\n\r\nconst isRecetaActive = async (recetaID) => {\r\n  try {\r\n    const receta = await RecetaModel.findOne({ _id: recetaID });\r\n    if (receta.isActive) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } catch (error) {\r\n    console.log(\"TCL: isRecetaActive -> error\", error);\r\n  }\r\n};\r\n\r\nexport {\r\n  addRecetaAction,\r\n  updateRecetaAction,\r\n  getAllRecetasAction,\r\n  getRecetaAction,\r\n  isRecetaActive,\r\n  deleteRecetaAction\r\n};\r\n"],"file":"recetasActions.js"}